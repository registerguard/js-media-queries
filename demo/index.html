<!doctype html>
<!--[if IE 6]>         <html class="no-js ie6 lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js ie7 lt-ie9 lt-ie8">        <![endif]-->
<!--[if IE 8]>         <html class="no-js ie8 lt-ie9">               <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js no-touch">                 <!--<![endif]-->

<head>
	
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<meta charset="utf-8">
	
	<title>onMediaQuery: Responsive Javascript</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<script>/*! rgne.ws/WnP50T */;(function(a){a.documentElement.className=a.documentElement.className.replace(/\bno-js\b/,'js')}(document));</script>
	
	<link rel="stylesheet" href="demo.css">
	
	<!-- https://github.com/scottjehl/Respond/ -->
	<!--[if (lt IE 9) & (!IEMobile)]>
		<script src="plugins/respond.src.js"></script>
	<![endif]-->
	
</head>
<body>
	
	<h1>onMediaQuery: <i>Responsive javascript</i></h1>
	<p>Use your browser's JS console to see output.</p>
	
	<hr>
	
	<h2 class="alpha">Alpha</h2>
	<h2 class="bravo">Bravo</h2>
	<h2 class="charlie">Charlie</h2>
	<h2 class="large">Large</h2>
	<h2 class="delta">Delta</h2>
	
	<hr>
	
	<ol id="debug"></ol>
	
	<script src="../onmediaquery/onmediaquery.min.js"></script>
	<script>
		<!--
			
			function msg(x) {
				
				var $ol = document.getElementById('debug'),
				$li = document.createElement('li');
				$li.innerHTML = String(x);
				$ol.appendChild($li);
				
				if (typeof console !== 'undefined') console.log(x);
				
			}
			
			var queries = [
				
				{
					context : 'alpha',
					match : function() {
						
						msg('MATCH: alpha, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					},
					unmatch : function() {
						
						msg('UNMATCH: alpha, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					}
				},
				{
					context : 'bravo',
					match : function() {
						
						msg('MATCH: bravo, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					},
					unmatch : function() {
						
						msg('UNMATCH: bravo, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					}
				},
				{
					context : 'charlie',
					match : function() {
						
						msg('MATCH: charlie, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					},
					unmatch : function() {
						
						msg('UNMATCH: charlie, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					}
				},
				{
					context : 'delta',
					match : function() {
						
						msg('MATCH: delta, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					},
					unmatch : function() {
						
						msg('UNMATCH: delta, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					}
				}
				
			];
			
			window.onload = function() {
				
				msg('CONTEXT BEFORE INIT: ' + oMQ.getContext());
				
				oMQ.init(queries);
				
				var my_query = oMQ.addQuery({
					context: 'large', 
					match : function() {
						
						msg('MATCH: large, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					},
					unmatch : function() {
						
						msg('UNMATCH: large, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					}
				});
				
				var my_other_query = oMQ.addQuery({
					context: ['charlie', 'large', 'delta'],
					call_for_each_context: false,
					match : function() {
						
						msg('MATCH: charlie/large/delta, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					},
					unmatch : function() {
						
						msg('UNMATCH: charlie/large/delta, CURRENT CONTEXT: ' + oMQ.getContext() + ', LAST CONTEXT: ' + oMQ.getLastContext());
						
					}
				});
				
				//oMQ.removeQuery(my_query);
				
			};
			
		//-->
	</script>
	
</body>
</html>
